"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[75],{9075:function(s,t,e){e.r(t),e.d(t,{default:function(){return U}});var r=e(8683),n=e(5671),i=e(3144),u=e(136),a=e(5716),o=e(2791),l="ProfileInfo_descriptionBlock__XBXuJ",c=e(7508),p=e(885),d=e(184),f=function(s){var t=(0,o.useState)(!1),e=(0,p.Z)(t,2),r=e[0],n=e[1],i=(0,o.useState)(s.status),u=(0,p.Z)(i,2),a=u[0],l=u[1];(0,o.useEffect)((function(){l(s.status)}),[s.status]);return(0,d.jsxs)("div",{children:[!r&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status})}),r&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),s.updateStatus(a)},value:a})})]})},h=function(s){var t=s.profile,e=s.status,r=s.updateStatus;return t?(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("img",{src:t.photos.small,alt:""}),(0,d.jsx)(f,{status:e,updateStatus:r}),t.fullName]})}):(0,d.jsx)(c.Z,{})},m=e(5344),x="MyPosts_postsBlock__lB-pf",j="MyPosts_posts__GSiZ2",v="MyPost_item__xSWqM",g=function(s){return(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("img",{src:"https://pyxis.nymag.com/v1/imgs/51b/28a/622789406b8850203e2637d657d5a0e0c3-avatar-rerelease.rsquare.w700.jpg",alt:"Avatar"}),s.message,(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:["likes: ",s.countLikes]})})]})},P=e(2381),S=e(6139),y=e(704),_=e(3079),k=e(1117),Z=(0,_.D)(10);var N=(0,y.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(S.Z,{name:"NewPostText",component:k.gx,validate:[_.l,Z],placeholder:"your post message"})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]})})),b=function(s){console.log("Return YO");return(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(N,{onSubmit:function(t,e){s.addPost(t.NewPostText),e((0,P.mc)("ProfileAddNewPostForm"))}}),(0,d.jsx)("div",{className:j,children:s.posts.map((function(s,t){return(0,d.jsx)(g,{message:s.message,countLikes:s.countLikes},t)}))})]})},w=e(364),A=(0,w.$j)((function(s){return{posts:s.profilePage.myPostData}}),(function(s){return{addPost:function(t){s((0,m.Wl)(t))}}}))(b),C=function(s){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,d.jsx)(A,{})]})},M=e(9271),B=e(7781),I=function(s){(0,u.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;!s&&this.props.authorisedUserId&&(s=this.props.authorisedUserId.toString()),s||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,d.jsx)(C,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(o.Component),U=(0,B.qC)((0,w.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),M.EN)(I)}}]);
//# sourceMappingURL=75.15dfbe40.chunk.js.map